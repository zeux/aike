type vec2 = {x: int}
let foo(x: vec2) = x.x
let bar(x, f) = if true then x.x else f(foo(x))
bar(vec2(1), fun x -> true)

// ERRORS:
// (3,30): Expected a record type

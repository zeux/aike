type refcell<'T> = { contents: 'T }
type refpair<'T1, 'T2> = { first: refcell<'T1>; second: refcell<'T2> }

let reduce(x, f) =
    match x with refpair(first = refcell(x), second = refcell(y)) -> f(x, y)

reduce(refpair(refcell(1), refcell(true)), fun (x, y) -> x + y)

// ERRORS:
// (7,44): Type mismatch. Expecting a
//     (int, bool) -> int
// but given a
//     (int, int) -> int
